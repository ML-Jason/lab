{"version":3,"sources":["mng/js/users.js"],"names":["onPageChange","_psize","$","find","text","_p","location","href","delBtnClick","e","preventDefault","_index","index","currentTarget","confirmtype","selIndex","pageAlert","showConfirm","title","delConfirmClick","confirm","_id","eq","val","_url","prop","document","submit","delselectedBtnClick","_selected","i","length","selectallBtnClick","html","ready","on"],"mappings":"AAUA,QAASA,gBACL,GAAIC,GAASC,EAAE,oBAAoBC,KAAK,mBAAmBC,OACvDC,EAAKH,EAAE,gBAAgBC,KAAK,mBAAmBC,MACnDE,UAASC,KAAO,aAAaN,EAAO,SAASI,EAEjD,QAASG,aAAYC,GACjBA,EAAEC,gBACF,IAAIC,GAAST,EAAE,YAAYU,MAAMV,EAAEO,EAAEI,eACrCC,aAAc,MACdC,SAAWJ,EACXK,UAAUC,aAAaC,MAAQ,UAAUC,iBAE7C,QAASA,iBAAgBC,GACrB,GAAKA,EAAL,CACA,GAAmB,OAAfN,YAAsB,CACtB,GAAIO,GAAMnB,EAAE,kBAAkBoB,GAAGP,UAAUQ,MACvCC,EAAOtB,EAAE,cAAcuB,KAAK,SAChCC,UAASpB,SAASC,KAAMiB,EAAOH,EAEhB,eAAfP,aACAZ,EAAE,cAAcyB,UAGxB,QAASC,qBAAoBnB,GAEzB,IAAK,GADDoB,IAAY,EACPC,EAAG,EAAEA,EAAI5B,EAAE,kBAAkB6B,OAAOD,IACzC,GAAI5B,EAAE,kBAAkBoB,GAAGQ,GAAGL,KAAK,WAAY,CAC3CI,GAAY,CACZ,OAGFA,IACNf,YAAc,cACdE,UAAUC,aAAaC,MAAQ,UAAUC,kBAE7C,QAASa,mBAAkBvB,GACiB,MAApCP,EAAE,kBAAkBoB,GAAG,GAAGW,QAC1B/B,EAAE,kBAAkB+B,KAAK,QACzB/B,EAAE,kBAAkBuB,KAAK,WAAW,KAEpCvB,EAAE,kBAAkB+B,KAAK,MACzB/B,EAAE,kBAAkBuB,KAAK,WAAW,IAnD5C,GAAIX,aAAc,GACdC,SAAW,EACfb,GAAEwB,UAAUQ,MAAM,WACdhC,EAAE,YAAYiC,GAAG,QAAS3B,aAC1BN,EAAE,kBAAkBiC,GAAG,QAAShB,iBAChCjB,EAAE,kBAAkBiC,GAAG,QAASH,mBAChC9B,EAAE,kBAAkBiC,GAAG,QAASP,qBAChC1B,EAAE,oBAAoBiC,GAAG,SAAUnC,cACnCE,EAAE,gBAAgBiC,GAAG,SAAUnC","file":"mng/js/users.js","sourcesContent":["var confirmtype = \"\";\nvar selIndex = -1;\n$(document).ready(function() {\n    $(\".btn-del\").on(\"click\", delBtnClick);\n    $(\".j-btn-confirm\").on(\"click\", delConfirmClick);\n    $(\".btn-selectall\").on(\"click\", selectallBtnClick);\n    $(\".btn-delselect\").on(\"click\", delselectedBtnClick);\n    $(\".pagesize-select\").on('change', onPageChange);\n    $(\".page-select\").on('change', onPageChange);\n});\nfunction onPageChange() {\n    var _psize = $(\".pagesize-select\").find(\"option:selected\").text();\n    var _p = $(\".page-select\").find(\"option:selected\").text();\n    location.href = '?pagesize='+_psize+'&page='+_p;\n}\nfunction delBtnClick(e) {\n    e.preventDefault();\n    var _index = $(\".btn-del\").index($(e.currentTarget));\n    confirmtype = \"del\";\n    selIndex = _index;\n    pageAlert.showConfirm({\"title\":\"確定要刪除嗎\"},delConfirmClick);\n}\nfunction delConfirmClick(confirm) {\n    if (!confirm) return;\n    if (confirmtype == \"del\") {\n        var _id = $(\".item-checkbox\").eq(selIndex).val();\n        var _url = $(\"#usersform\").prop(\"action\");\n        document.location.href= _url + _id;\n    }\n    if (confirmtype == \"delselected\") {\n        $(\"#usersform\").submit();\n    }\n}\nfunction delselectedBtnClick(e) {\n    var _selected = false;\n    for (var i= 0;i < $(\".item-checkbox\").length;i ++) {\n        if ($(\".item-checkbox\").eq(i).prop(\"checked\")) {\n            _selected = true;\n            break;\n        }\n    }\n    if (! _selected) return;\n    confirmtype = \"delselected\";\n    pageAlert.showConfirm({\"title\":\"確定要刪除嗎\"},delConfirmClick);\n}\nfunction selectallBtnClick(e) {\n    if ($(\".btn-selectall\").eq(0).html() == '全選') {\n        $(\".btn-selectall\").html('取消全選');\n        $(\".item-checkbox\").prop(\"checked\", true);\n    } else {\n        $(\".btn-selectall\").html('全選');\n        $(\".item-checkbox\").prop(\"checked\", false);\n    }\n}"],"sourceRoot":"/source/"}