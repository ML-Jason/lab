{"version":3,"sources":["js/mng/users.js"],"names":["onPageChange","_psize","$","find","text","_p","location","href","delBtnClick","e","preventDefault","_index","index","currentTarget","confirmtype","selIndex","pageAlert","showConfirm","title","delConfirmClick","confirm","_id","eq","val","_url","prop","document","submit","delselectedBtnClick","_selected","i","length","selectallBtnClick","html","ready","on"],"mappings":"AAUA,QAASA,gBACL,GAAIC,GAASC,EAAE,oBAAoBC,KAAK,mBAAmBC,OACvDC,EAAKH,EAAE,gBAAgBC,KAAK,mBAAmBC,MACnDE,UAASC,KAAO,aAAaN,EAAO,SAASI,EAEjD,QAASG,aAAYC,GACjBA,EAAEC,gBACF,IAAIC,GAAST,EAAE,YAAYU,MAAMV,EAAEO,EAAEI,eACrCC,aAAc,MACdC,SAAWJ,EACXK,UAAUC,aAAaC,MAAQ,UAAUC,iBAE7C,QAASA,iBAAgBC,GACrB,GAAKA,EAAL,CACA,GAAmB,OAAfN,YAAsB,CACtB,GAAIO,GAAMnB,EAAE,kBAAkBoB,GAAGP,UAAUQ,MACvCC,EAAOtB,EAAE,cAAcuB,KAAK,SAChCC,UAASpB,SAASC,KAAMiB,EAAOH,EAEhB,eAAfP,aACAZ,EAAE,cAAcyB,UAGxB,QAASC,qBAAoBnB,GAEzB,IAAK,GADDoB,IAAY,EACPC,EAAG,EAAEA,EAAI5B,EAAE,kBAAkB6B,OAAOD,IACzC,GAAI5B,EAAE,kBAAkBoB,GAAGQ,GAAGL,KAAK,WAAY,CAC3CI,GAAY,CACZ,OAGFA,IACNf,YAAc,cACdE,UAAUC,aAAaC,MAAQ,UAAUC,kBAE7C,QAASa,mBAAkBvB,GACiB,MAApCP,EAAE,kBAAkBoB,GAAG,GAAGW,QAC1B/B,EAAE,kBAAkB+B,KAAK,QACzB/B,EAAE,kBAAkBuB,KAAK,WAAW,KAEpCvB,EAAE,kBAAkB+B,KAAK,MACzB/B,EAAE,kBAAkBuB,KAAK,WAAW,IAnD5C,GAAIX,aAAc,GACdC,SAAW,EACfb,GAAEwB,UAAUQ,MAAM,WACdhC,EAAE,YAAYiC,GAAG,QAAS3B,aAC1BN,EAAE,kBAAkBiC,GAAG,QAAShB,iBAChCjB,EAAE,kBAAkBiC,GAAG,QAASH,mBAChC9B,EAAE,kBAAkBiC,GAAG,QAASP,qBAChC1B,EAAE,oBAAoBiC,GAAG,SAAUnC,cACnCE,EAAE,gBAAgBiC,GAAG,SAAUnC","file":"js/mng/users.js","sourcesContent":["var confirmtype = \"\";\r\nvar selIndex = -1;\r\n$(document).ready(function() {\r\n    $(\".btn-del\").on(\"click\", delBtnClick);\r\n    $(\".j-btn-confirm\").on(\"click\", delConfirmClick);\r\n    $(\".btn-selectall\").on(\"click\", selectallBtnClick);\r\n    $(\".btn-delselect\").on(\"click\", delselectedBtnClick);\r\n    $(\".pagesize-select\").on('change', onPageChange);\r\n    $(\".page-select\").on('change', onPageChange);\r\n});\r\nfunction onPageChange() {\r\n    var _psize = $(\".pagesize-select\").find(\"option:selected\").text();\r\n    var _p = $(\".page-select\").find(\"option:selected\").text();\r\n    location.href = '?pagesize='+_psize+'&page='+_p;\r\n}\r\nfunction delBtnClick(e) {\r\n    e.preventDefault();\r\n    var _index = $(\".btn-del\").index($(e.currentTarget));\r\n    confirmtype = \"del\";\r\n    selIndex = _index;\r\n    pageAlert.showConfirm({\"title\":\"確定要刪除嗎\"},delConfirmClick);\r\n}\r\nfunction delConfirmClick(confirm) {\r\n    if (!confirm) return;\r\n    if (confirmtype == \"del\") {\r\n        var _id = $(\".item-checkbox\").eq(selIndex).val();\r\n        var _url = $(\"#usersform\").prop(\"action\");\r\n        document.location.href= _url + _id;\r\n    }\r\n    if (confirmtype == \"delselected\") {\r\n        $(\"#usersform\").submit();\r\n    }\r\n}\r\nfunction delselectedBtnClick(e) {\r\n    var _selected = false;\r\n    for (var i= 0;i < $(\".item-checkbox\").length;i ++) {\r\n        if ($(\".item-checkbox\").eq(i).prop(\"checked\")) {\r\n            _selected = true;\r\n            break;\r\n        }\r\n    }\r\n    if (! _selected) return;\r\n    confirmtype = \"delselected\";\r\n    pageAlert.showConfirm({\"title\":\"確定要刪除嗎\"},delConfirmClick);\r\n}\r\nfunction selectallBtnClick(e) {\r\n    if ($(\".btn-selectall\").eq(0).html() == '全選') {\r\n        $(\".btn-selectall\").html('取消全選');\r\n        $(\".item-checkbox\").prop(\"checked\", true);\r\n    } else {\r\n        $(\".btn-selectall\").html('全選');\r\n        $(\".item-checkbox\").prop(\"checked\", false);\r\n    }\r\n}"],"sourceRoot":"/source/"}