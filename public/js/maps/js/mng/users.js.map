{"version":3,"sources":["js/mng/users.js"],"names":["onPageChange","_psize","$","find","text","_p","location","href","delBtnClick","e","preventDefault","_index","index","currentTarget","confirmtype","selIndex","pageAlert","showConfirm","delConfirmClick","confirm","_id","eq","val","_url","prop","document","submit","delselectedBtnClick","_selected","i","length","selectallBtnClick","html","ready","on"],"mappings":"AAUA,QAASA,gBACL,GAAIC,GAASC,EAAE,oBAAoBC,KAAK,mBAAmBC,OACvDC,EAAKH,EAAE,gBAAgBC,KAAK,mBAAmBC,MACnDE,UAASC,KAAO,aAAaN,EAAO,SAASI,EAEjD,QAASG,aAAYC,GACjBA,EAAEC,gBACF,IAAIC,GAAST,EAAE,YAAYU,MAAMV,EAAEO,EAAEI,eACrCC,aAAc,MACdC,SAAWJ,EACXK,UAAUC,YAAY,SAASC,iBAEnC,QAASA,iBAAgBC,GACrB,GAAKA,EAAL,CACA,GAAmB,OAAfL,YAAsB,CACtB,GAAIM,GAAMlB,EAAE,kBAAkBmB,GAAGN,UAAUO,MACvCC,EAAOrB,EAAE,cAAcsB,KAAK,SAChCC,UAASnB,SAASC,KAAMgB,EAAOH,EAEhB,eAAfN,aACAZ,EAAE,cAAcwB,UAGxB,QAASC,qBAAoBlB,GAEzB,IAAK,GADDmB,IAAY,EACPC,EAAG,EAAEA,EAAI3B,EAAE,kBAAkB4B,OAAOD,IACzC,GAAI3B,EAAE,kBAAkBmB,GAAGQ,GAAGL,KAAK,WAAY,CAC3CI,GAAY,CACZ,OAGFA,IACNd,YAAc,cACdE,UAAUC,YAAY,SAASC,kBAEnC,QAASa,mBAAkBtB,GACiB,MAApCP,EAAE,kBAAkBmB,GAAG,GAAGW,QAC1B9B,EAAE,kBAAkB8B,KAAK,QACzB9B,EAAE,kBAAkBsB,KAAK,WAAW,KAEpCtB,EAAE,kBAAkB8B,KAAK,MACzB9B,EAAE,kBAAkBsB,KAAK,WAAW,IAnD5C,GAAIV,aAAc,GACdC,SAAW,EACfb,GAAEuB,UAAUQ,MAAM,WACd/B,EAAE,YAAYgC,GAAG,QAAS1B,aAC1BN,EAAE,kBAAkBgC,GAAG,QAAShB,iBAChChB,EAAE,kBAAkBgC,GAAG,QAASH,mBAChC7B,EAAE,kBAAkBgC,GAAG,QAASP,qBAChCzB,EAAE,oBAAoBgC,GAAG,SAAUlC,cACnCE,EAAE,gBAAgBgC,GAAG,SAAUlC","file":"js/mng/users.js","sourcesContent":["var confirmtype = \"\";\nvar selIndex = -1;\n$(document).ready(function() {\n    $(\".btn-del\").on(\"click\", delBtnClick);\n    $(\".j-btn-confirm\").on(\"click\", delConfirmClick);\n    $(\".btn-selectall\").on(\"click\", selectallBtnClick);\n    $(\".btn-delselect\").on(\"click\", delselectedBtnClick);\n    $(\".pagesize-select\").on('change', onPageChange);\n    $(\".page-select\").on('change', onPageChange);\n});\nfunction onPageChange() {\n    var _psize = $(\".pagesize-select\").find(\"option:selected\").text();\n    var _p = $(\".page-select\").find(\"option:selected\").text();\n    location.href = '?pagesize='+_psize+'&page='+_p;\n}\nfunction delBtnClick(e) {\n    e.preventDefault();\n    var _index = $(\".btn-del\").index($(e.currentTarget));\n    confirmtype = \"del\";\n    selIndex = _index;\n    pageAlert.showConfirm(\"確定要刪除嗎\",delConfirmClick);\n}\nfunction delConfirmClick(confirm) {\n    if (!confirm) return;\n    if (confirmtype == \"del\") {\n        var _id = $(\".item-checkbox\").eq(selIndex).val();\n        var _url = $(\"#usersform\").prop(\"action\");\n        document.location.href= _url + _id;\n    }\n    if (confirmtype == \"delselected\") {\n        $(\"#usersform\").submit();\n    }\n}\nfunction delselectedBtnClick(e) {\n    var _selected = false;\n    for (var i= 0;i < $(\".item-checkbox\").length;i ++) {\n        if ($(\".item-checkbox\").eq(i).prop(\"checked\")) {\n            _selected = true;\n            break;\n        }\n    }\n    if (! _selected) return;\n    confirmtype = \"delselected\";\n    pageAlert.showConfirm(\"確定要刪除嗎\",delConfirmClick);\n}\nfunction selectallBtnClick(e) {\n    if ($(\".btn-selectall\").eq(0).html() == '全選') {\n        $(\".btn-selectall\").html('取消全選');\n        $(\".item-checkbox\").prop(\"checked\", true);\n    } else {\n        $(\".btn-selectall\").html('全選');\n        $(\".item-checkbox\").prop(\"checked\", false);\n    }\n}"],"sourceRoot":"/source/"}